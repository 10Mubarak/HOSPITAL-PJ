<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Book Appointment — Mercywell</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <link rel="shortcut icon" href="../images/hospital-logo.jpg" type="image/x-icon">
</head>

<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="../index.html" class="brand">
        <img src="../images/hospital-logo.jpg" alt="Mercywell Logo" class="logo">
        <span class="brand-name">Mercywell Hospital</span>
      </a>
      <nav class="nav">
        <a href="../index.html">Home</a>
        <a href="./about.html">About</a>
        <a href="./department.html">Departments</a>
        <a href="./doctors.html">Doctors</a>
        <a href="./appointment.html" class="btn btn-primary">Book Appointment</a>
        <a href="./contact.html">Contact</a>
      </nav>
      <button class="mobile-nav-toggle" aria-label="Open navigation">☰</button>
    </div>
  </header>

  <main class="container section">
    <h1>Book an Appointment</h1>
    <p class="lead">Fill in your details and we'll contact you to confirm.</p>

    <form id="appointment-form" class="form card">
      <div class="form-row">
        <label for="pname">Full Name</label>
        <input id="pname" name="name" type="text" required>
      </div>

      <div class="form-row">
        <label for="pemail">Email</label>
        <input id="pemail" name="email" type="email" required>
      </div>

      <div class="form-row">
        <label for="pphone">Phone</label>
        <input id="pphone" name="phone" type="tel" required placeholder="+1234567890">
      </div>

      <div class="form-row">
        <label for="doctor">Preferred Doctor (optional)</label>
        <select id="doctor" name="doctor">
          <option value="">Any available</option>
          <option>Dr. Amina Yusuf — Cardiology</option>
          <option>Dr. Michael Aden — Pediatrics</option>
          <option>Dr. Halima R. — Surgery</option>
        </select>
      </div>

      <div class="form-row">
        <label for="date">Preferred Date</label>
        <input id="date" name="date" type="date" required>
      </div>

      <div class="form-row">
        <label for="message">Notes / Symptoms</label>
        <textarea id="message" name="message" rows="4"></textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Request Appointment</button>
        <button type="reset" class="btn btn-outline">Reset</button>
      </div>
    </form>

    <div id="appointment-message" class="card hidden"></div>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <!-- same footer as other pages -->
      <div>
        <h4>Mercywell Private Hospital</h4>
        <p>123 Wellness Ave, City — <a href="tel:+1234567890">+1 (234) 567-890</a></p>
        <p><a href="mailto:info@mercywell.example">info@mercywell.example</a></p>
      </div>
      <div>
        <h4>Quick Links</h4>
        <nav class="footer-nav">
          <a href="about.html">About</a>
          <a href="departments.html">Departments</a>
          <a href="doctors.html">Doctors</a>
          <a href="contact.html">Contact</a>
        </nav>
      </div>
      <div>
        <h4>Follow</h4>
        <div class="socials">
          <a href="#" aria-label="Facebook">Facebook</a>
          <a href="#" aria-label="Twitter">Twitter</a>
          <a href="#" aria-label="Instagram">Instagram</a>
        </div>
      </div>
    </div>
    <div class="container copyright">
      <small>© <span id="year5"></span> Mercywell Private Hospital. All rights reserved.</small>
    </div>
  </footer>
  <!-- EmailJS Library -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <script src="../script.js" defer></script>


  <script>
    (function () {
      // Initialize EmailJS
      emailjs.init("qTBqjtpzU1t8J_yQP"); // Your public key
    })();

    const appointmentForm = document.getElementById("appointment-form");

    if (appointmentForm) {
      appointmentForm.addEventListener("submit", function (e) {
        e.preventDefault();

        // Add timestamp to the form so it arrives in email
        const timeInput = document.createElement("input");
        timeInput.type = "hidden";
        timeInput.name = "time";
        timeInput.value = new Date().toLocaleString();
        appointmentForm.appendChild(timeInput);

        // Send form using EmailJS
        emailjs.sendForm("service_bsofzqn", "template_qjdpvsr", this)
          .then(() => {
            alert("Your appointment request has been sent successfully! We will contact you soon.");
            appointmentForm.reset();
          })
          .catch((err) => {
            console.error("EmailJS Error:", err);
            alert("Failed to send your appointment request. Please try again.");
          });
      });
    }
  </script>

</body>

</html>